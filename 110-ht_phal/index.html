<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://openvoiceos.github.io/community-docs/110-ht_phal/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>PHAL - OVOS User Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "PHAL";
        var mkdocs_page_input_path = "110-ht_phal.md";
        var mkdocs_page_url = "/community-docs/110-ht_phal/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> OVOS User Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Home</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../000-index/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../001-about/">About</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Supported Hardware</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../010-hardware/">Introduction</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../011-hardware_audio/">Audio</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../012-hardware_video/">Video</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../020-architecture/">OpenVoiceOS Architecture</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Quick Start Guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../030-qs_intro/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../031-qs_first_boot/">First Boot</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../032-qs_next_steps/">Next Steps</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Installation Options</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../040-install_intro/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../030-qs_intro/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../042-install_ovos_core/">Install as a Library</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../043-install_ovos_docker/">Install with Docker</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../044-ovos_installer/">OVOS Installer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../048-install_gui/">Install GUI</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Starting OVOS</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../050-starting_intro/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../051-starting_modules/">Starting Modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../052-starting_systemd/">Starting Systemd</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../053-starting_docker/">Starting Docker</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../060-config/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../061-config_ovos_config/">Using ovos-config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../062-config_manual_config/">Manualy Editing Files</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">How To</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../070-ht_intro/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Skills</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../080-ht_skills/">Introduction</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../081-ht_skills_install/">Installing Skills</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../082-ht_skills_config/">Configuring</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >TTS</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../090-ht_tts/">Introduction</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../091-ht_tts_config/">Configuring</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../092-ht_change_voice/">Change Your Assistant's Voice</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Listener</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../100-ht_listener_intro/">Introduction</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../101-ht_mic/">Microphone</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../102-ht_stt/">STT</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../103-ht_stt_config/">Configuring</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../104-ht_ww/">WakeWord/HotWords</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../105-ht_vad/">VAD</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">PHAL</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#plugins">Plugins</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#admin-phal">Admin PHAL</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#admin-plugins">Admin Plugins</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Homescreen</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../115-ht_config_homescreen/">Configuration</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../118-ht_config_security/">OpenVoiceOS Security</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Additional Services</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../120-selene_backend/">Selene Backend</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../121-personal_backend/">Personal Backend</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../122-kdeconnect/">KDE Connect</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Images</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../130-images_intro/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../131-images_buildroot/">Buildroot</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../030-qs_intro/">Introduction</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Other Builds</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../135-mycroft/">Mycroft</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../136-neonos/">NeonOS</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Troubleshooting</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../140-troubleshooting_intro/">Introduction to Troubleshooting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../145-troubleshooting_audio/">Troubleshooting Audio</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../150-troubleshooting_installation/">Troubleshooting Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../155-troubleshooting_network/">Troubleshooting Network</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../160-troubleshooting_wakeword/">Troubleshooting Wakeword</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../165-troubleshooting_ovos_core/">Troubleshooting OVOS Core</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../170-troubleshooting_backend/">Troubleshooting Backend</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../175-troubleshooting_tts/">Troubleshooting TTS</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../180-troubleshooting_stt/">Troubleshooting STT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../185-troubleshooting_skills/">Troubleshooting Skills</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../190-troubleshooting_plugins/">Troubleshooting Plugins</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Appendix</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../300-glossary/">Glossary</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../305-faq/">FAQ</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../310-compat/">Compatibility</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../315-license/">License</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../320-friends/">Friends</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../325-members/">OVOS Members</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../330-contributing/">Contributing</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">OVOS User Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">How To</li>
      <li class="breadcrumb-item active">PHAL</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="ovos-phal">OVOS PHAL</h1>
<p><a href="https://github.com/OpenVoiceOS/ovos_PHAL">PHAL</a> is our Platform/Hardware Abstraction Layer, it completely replaces the concept of hardcoded "enclosure" from <code>mycroft-core</code>.</p>
<p>Any number of plugins providing functionality can be loaded and validated at runtime, plugins can
be <a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-system">system integrations</a> to handle things like reboot and shutdown, or hardware drivers such as <a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-mk2">Mycroft Mark 2 plugin</a>.</p>
<p>PHAL plugins can perform actions such as hardware detection before loading, eg, the mark2 plugin will not load if it does not detect the sj201 hat. This makes plugins safe to install and bundle by default in our base images.</p>
<h2 id="plugins">Plugins</h2>
<p>Platform/Hardware specific integrations are loaded by PHAL, these plugins can handle all sorts of system activities.</p>
<table>
<thead>
<tr>
<th>Plugin</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-alsa">ovos-PHAL-plugin-alsa</a></td>
<td>volume control</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-system">ovos-PHAL-plugin-system</a></td>
<td>reboot / shutdown / factory reset</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-mk1">ovos-PHAL-plugin-mk1</a></td>
<td>mycroft mark1 integration</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-mk2">ovos-PHAL-plugin-mk2</a></td>
<td>mycroft mark2 integration</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-respeaker-2mic">ovos-PHAL-plugin-respeaker-2mic</a></td>
<td>respeaker 2mic hat integration</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-respeaker-4mic">ovos-PHAL-plugin-respeaker-4mic</a></td>
<td>respeaker 4mic hat integration</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-wifi-setup">ovos-PHAL-plugin-wifi-setup</a></td>
<td>wifi setup (central plugin)</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-gui-network-client">ovos-PHAL-plugin-gui-network-client</a></td>
<td>wifi setup (GUI interface)</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-balena-wifi">ovos-PHAL-plugin-balena-wifi</a></td>
<td>wifi setup (hotspot)</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-network-manager">ovos-PHAL-plugin-network-manager</a></td>
<td>wifi setup (network manager)</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-brightness-control-rpi">ovos-PHAL-plugin-brightness-control-rpi</a></td>
<td>brightness control</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-ipgeo">ovos-PHAL-plugin-ipgeo</a></td>
<td>automatic geolocation  (IP address)</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-gpsd">ovos-PHAL-plugin-gpsd</a></td>
<td>automatic geolocation  (GPS)</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-dashboard">ovos-PHAL-plugin-dashboard</a></td>
<td>dashboard control (ovos-shell)</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-notification-widgets">ovos-PHAL-plugin-notification-widgets</a></td>
<td>system notifications (ovos-shell)</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-color-scheme-manager">ovos-PHAL-plugin-color-scheme-manager</a></td>
<td>GUI color schemes (ovos-shell)</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-configuration-provider">ovos-PHAL-plugin-configuration-provider</a></td>
<td>UI to edit mycroft.conf (ovos-shell)</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-analog-media-devices">ovos-PHAL-plugin-analog-media-devices</a></td>
<td>video/audio capture devices (OCP)</td>
</tr>
<tr>
<td><a href="https://github.com/OpenVoiceOS/ovos-PHAL-plugin-homeassistant">ovos-PHAL-plugin-homeassistant</a></td>
<td>api and gui to interface with Home Assistant</td>
</tr>
</tbody>
</table>
<p><img alt="flow" src="../img/phal_or_skill.png" /></p>
<h2 id="admin-phal">Admin PHAL</h2>
<p>AdminPHAL performs the exact same function as PHAL, but plugins it loads will have <code>root</code> privileges.</p>
<p>This service is intended for handling any OS-level interactions requiring escalation of privileges. Be very careful when installing Admin plugins and scrutinize them closely</p>
<p>NOTE: Because this service runs as root, plugins it loads are responsible for not writing configuration changes which would result in breaking config file permissions.</p>
<h3 id="admin-plugins">Admin Plugins</h3>
<p>AdminPlugins are just like regular PHAL plugins that run with <code>root</code> privileges.</p>
<p>Admin plugins will only load if their configuration contains <code>"enabled": true</code>. All admin plugins need to be explicitly enabled.</p>
<p>You can find plugin packaging documentation <a href="https://openvoiceos.github.io/community-docs/OPM/#packaging">here</a>.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../105-ht_vad/" class="btn btn-neutral float-left" title="VAD"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../115-ht_config_homescreen/" class="btn btn-neutral float-right" title="Configuration">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../105-ht_vad/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../115-ht_config_homescreen/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
